<launch>
    <env name="ROSCONSOLE_FORMAT" value="[${severity}][${thread}][${node}/${function}:${line}]: ${message}"/>

    <!-- Joystick Device Argument -->
    <arg name="joy_dev" default="/dev/input/js0"/>

    <!-- Joy Node -->
    <node pkg="joy" type="joy_node" name="joy_drive" clear_params="true" output="screen" respawn="true" >
      <param name="joy_dev" value="$(arg joy_dev)" />
      <param name="deadzone" value="0.12" />
      <param name="autorepeat_rate" value="20" />
      <!-- OUTPUT TOPICS -->
      <remap from="joy" to="joy" />
    </node>

    <!-- Teleoperation Node -->
    <node pkg="tractor_teleop" type="drive_teleop" name="drive_teleop" clear_params="true" output="screen" respawn="true">
      <!-- INPUT TOPICS -->
      <param name="drive_axis" value="0" />
      <param name="drive_forward_max" value="2" />
      <param name="drive_reverse_max" value="1" />
      <param name="turn_axis" value="1" />
      <param name="deadman" value="4" />
      <param name="estop" value="1" />
      <param name="move_cancel" value="2" />
      <remap from="joy" to="joy" />
      <!-- OUTPUT TOPICS -->
      <remap from="teleop/cmd_vel" to="teleop/cmd_vel" />
      <remap from="move_base/cancel" to="move_base/cancel" />
    </node>
</launch>
